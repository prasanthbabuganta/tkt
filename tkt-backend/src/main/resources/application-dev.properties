# ================================================================
# TKT Backend - Development Environment Configuration
# Active Profile: dev
# Usage: -Dspring.profiles.active=dev or SPRING_PROFILES_ACTIVE=dev
# ================================================================

# Database Configuration (Local PostgreSQL)
spring.datasource.url=jdbc:postgresql://localhost:5432/tkt
spring.datasource.username=postgres
spring.datasource.password=postgres

# JPA/Hibernate - Development Settings
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Logging - Verbose for development
logging.level.root=INFO
logging.level.com.example.thekingstemple=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
# Multitenancy Debug Logging
logging.level.org.hibernate.engine.jdbc.connections.internal=DEBUG
logging.level.com.example.thekingstemple.config.SchemaBasedMultiTenantConnectionProvider=DEBUG
logging.level.com.example.thekingstemple.config.CurrentTenantIdentifierResolverImpl=DEBUG
logging.level.com.example.thekingstemple.config.TenantContext=DEBUG

# Development-specific settings
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true

# Security - Relaxed for development
# Note: Still use proper JWT tokens, but with longer expiry
jwt.access-token-expiry=2592000000
jwt.refresh-token-expiry=5184000000

# Actuator - Show all details in dev
management.endpoint.health.show-details=always
management.endpoints.web.exposure.include=*

# Error Handling - Show full stack traces
server.error.include-stacktrace=always
server.error.include-exception=true

# Connection Pool - Smaller pool for local dev
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
